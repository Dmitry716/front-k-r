@import "tailwindcss";

@font-face {
    font-family: LatoBold;
    src: url(/fonts/LatoBold.ttf) format("truetype");
    font-display: swap;
    font-weight: 700;
    size-adjust: 100%;
}

@font-face {
    font-family: LatoRegular;
    src: url(/fonts/LatoRegular.ttf) format("truetype");
    font-display: swap;
    font-weight: 400;
    size-adjust: 100%;
}

:root {
  --background: #ffffff;
  --foreground: #ffffff;
}

html {
  position: relative;
}

/* Prevent layout shift from fonts and images */
body {
  font-size: 16px;
  line-height: 1.5;
}

/* Prevent CLS for hero slider - reserve exact space before JS loads */
main.min-h-screen > div:first-child {
  height: 400px !important;
}

@media (max-width: 1299px) {
  main.min-h-screen > div:first-child {
    height: clamp(226px, 29.5vw, 400px) !important;
  }
}

@media (max-width: 767px) {
  main.min-h-screen > div:first-child {
    height: 70vw !important;
  }
}

@media (max-width: 600px) {
  main.min-h-screen > div:first-child {
    height: 85vw !important;
  }
}

/* Prevent CLS for monuments page category grid */
.grid.grid-cols-2.md\:grid-cols-3 > a > div {
  min-height: 80px;
}

@media (min-width: 1024px) {
  .grid.grid-cols-2.md\:grid-cols-3 > a > div {
    min-height: 120px;
  }
}

/* Prevent CLS for "Другие категории" section on category pages */
div.mt-17.lg\:mt-30 {
  min-height: 80px;
}

@media (min-width: 1024px) {
  div.mt-17.lg\:mt-30 {
    min-height: 160px;
  }
}

/* Fix body shift - ensure stable height before content loads */
body.min-w-\[360px\] {
  min-height: 100vh;
}

/* Reserve space for category page product grid - removed aggressive min-height */
/* Using natural content flow instead to prevent layout jank on mobile */

/* Fix footer menu icons causing shift on mobile */
.lg\:hidden.fixed.bottom-0 {
  height: 64px;
}

.lg\:hidden.fixed.bottom-0 img {
  width: 25px !important;
  height: 24px !important;
}

/* Stabilize "Другие категории" images */
div.mt-17.lg\:mt-30 img {
  aspect-ratio: 1;
}

/* Prevent shifts from product grid - using natural content flow */
/* Removed min-height that was causing layout issues on mobile */

@media (max-width: 499px) {
  main.min-h-screen > div:first-child {
    height: 100vw !important;
  }
}

@media (max-width: 424px) {
  main.min-h-screen > div:first-child {
    height: 112vw !important;
  }
}

@media (max-width: 374px) {
  main.min-h-screen > div:first-child {
    height: 120vw !important;
  }
}

@media (max-width: 319px) {
  main.min-h-screen > div:first-child {
    height: 138vw !important;
  }
}

/* Prevent layout shifts from images */
img {
  content-visibility: auto;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: LatoRegular, -apple-system, BlinkMacSystemFont, Arial, sans-serif;
}

.font-bold, strong {
  font-family: LatoBold, Arial, sans-serif;
  font-weight: 700;
}

@media (min-width: 1380px) {
  .container-centered {
    margin-left: auto;
    margin-right: auto;
  }
}

@media (min-width: 1300px) and (max-width: 1379px) {
  .container-centered {
    margin-left: 40px; 
    margin-right: 40px;
  }
}

@media (max-width: 1299px) {
  .container-centered {
    margin-left: 20px; 
    margin-right: 20px;
  }
}

@media (max-width: 1023px) {
  .container-centered {
    margin-left: 16px; 
    margin-right: 16px;
  }
}

@media (min-width: 1380px) {
  .page-centered {
    margin-left: auto;
    margin-right: auto;
  }
}

@media (min-width: 1300px) and (max-width: 1379px) {
  .page-centered {
    margin-left: 40px; 
    margin-right: 40px;
  }
}

@media (max-width: 1299px) {
  .page-centered {
    margin-left: 20px; 
    margin-right: 20px;
  }
}

@media (max-width: 1023px) {
  .page-centered {
    margin-left: 0; 
    margin-right: 0;
  }
}

.gradient {
  background: linear-gradient(180deg,#f5f6fa 0,rgba(245,246,250,0) 100%);
}

/* Prevent CLS on StoreInfo section (shop slider) - removed aggressive min-height */
/* Using natural content flow and aspect-ratio for images instead */

/* Fixed ProductCard CLS - using aspect-ratio instead of rigid min-height */

/* Hero slider with natural responsive height, no aggressive min-height on content */

.single-product-media img,
.single-product-media picture {
  width: 100%;
  height: auto;
  object-fit: contain;
}

.single-product-icons__item {
  min-height: 36px;
}

.icon-fixed-28 {
  width: 28px !important;
  height: 28px !important;
  flex-shrink: 0;
}

.promo-card {
  min-height: 340px;
}

.promo-card__link {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.promo-card__image {
  position: relative;
  width: 100%;
  padding-top: 62%;
  overflow: hidden;
}

.promo-card__image img {
  object-fit: cover;
}

.promo-card__content {
  flex: 1;
  min-height: 150px;
}

/* Footer: removed aggressive min-height that caused layout jank on iOS */
/* Using natural content flow with flexbox instead */

.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Safari and Chrome */
}

/* iOS Safari критичные фиксы */
/* Убрать треугольники disclosure в details/summary */
summary::-webkit-details-marker {
  display: none;
}

/* Предотвратить zoom на input focus (iOS) */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="number"],
textarea,
select {
  font-size: 16px;
}

/* Убрать серую подсветку при тапе */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Исправить рендеринг transform на iOS */
.absolute {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* iOS Safari: fix modal rendering and prevent rubber-band scroll */
.fixed {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}

/* Prevent iOS Safari scroll jank with fixed positioned elements */
body {
  -webkit-touch-callout: none;
}

body[style*="overflow: hidden"] {
  position: fixed;
  width: 100%;
  height: 100vh;
}
